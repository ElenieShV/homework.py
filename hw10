#Task1

import random
numbers = [random.randint(-50, 50) for _ in range(15)]
print("List:", numbers)
sum_negative = sum(n for n in numbers if n < 0)
sum_even = sum(n for n in numbers if n % 2 == 0)
sum_odd = sum(n for n in numbers if n % 2 != 0)
product_index_3 = 1
for i in range(0, len(numbers), 3): product_index_3 *= numbers[i]

min_i = numbers.index(min(numbers))
max_i = numbers.index(max(numbers))
start, end = sorted((min_i, max_i))
product_between = 1
for n in numbers[start+1:end]: product_between *= n

pos = [i for i, n in enumerate(numbers) if n > 0]
sum_between_pos = sum(numbers[pos[0]+1:pos[-1]]) if len(pos) >= 2 else 0

print("Sum negative:", sum_negative)
print("Sum even:", sum_even)
print("Sum odd:", sum_odd)
print("Product index % 3:", product_index_3)
print("Product between min/max:", product_between)
print("Sum between 1st and last +:", sum_between_pos)


  #Task2

  import random

original_list = [random.randint(-20, 20) for _ in range(20)]

even_numbers = [num for num in original_list if num % 2 == 0]
odd_numbers = [num for num in original_list if num % 2 != 0]
negative_numbers = [num for num in original_list if num < 0]
positive_numbers = [num for num in original_list if num > 0]

print("Original list:", original_list)
print("Even numbers:", even_numbers)
print("Odd numbers:", odd_numbers)
print("Negative numbers:", negative_numbers)
print("Positive numbers:", positive_numbers)

#Task3

string_list = input("Enter strings separated by comma: ").split(",")
string_list = [s.strip() for s in string_list]
shortest = string_list[0]
for s in string_list:
    if len(s) < len(shortest):
        shortest = s
print(shortest)


#Task4

lines = input("Enter list of strings separated by commas: ").split(",")
letter = input("Enter a letter: ")
result = [line for line in lines if line.strip().startswith(letter)]
print("Strings that start with", letter, ":", result)

#Task5

lines = input("Enter list of strings separated by commas: ").split(",")
palindromes = []
for line in lines:
    line = line.strip()
    if line == line[::-1]:
        palindromes.append(line)
palindromes.sort(key=len, reverse=True)
print("Palindromes sorted by length descending:", palindromes)

#Task6  

from itertools import combinations
numbers = list(map(int, input("Enter list of numbers separated by commas: ").split(",")))
target = int(input("Enter target sum: "))
result = []
for i in range(1, len(numbers) + 1):
    for subset in combinations(numbers, i):
        if sum(subset) == target:
            result.append(list(subset))
print("Subsets with target sum:", result)  
 
